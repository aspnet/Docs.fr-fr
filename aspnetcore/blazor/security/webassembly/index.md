---
title: ASP.NET Core sécurisé Blazor WebAssembly
author: guardrex
description: Découvrez comment sécuriser des applications Blazor WebAssemlby en tant qu’applications à page unique (spas).
monikerRange: '>= aspnetcore-3.1'
ms.author: riande
ms.custom: mvc
ms.date: 10/27/2020
no-loc:
- appsettings.json
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: blazor/security/webassembly/index
ms.openlocfilehash: fc2ebae6e88e312aafec790229f978c3130e64de
ms.sourcegitcommit: 04ad9cd26fcaa8bd11e261d3661f375f5f343cdc
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 02/10/2021
ms.locfileid: "100106685"
---
# <a name="secure-aspnet-core-blazor-webassembly"></a><span data-ttu-id="6a016-103">ASP.NET Core sécurisé Blazor WebAssembly</span><span class="sxs-lookup"><span data-stu-id="6a016-103">Secure ASP.NET Core Blazor WebAssembly</span></span>

<span data-ttu-id="6a016-104">Par [Javier Calvarro Nelson](https://github.com/javiercn)</span><span class="sxs-lookup"><span data-stu-id="6a016-104">By [Javier Calvarro Nelson](https://github.com/javiercn)</span></span>

<span data-ttu-id="6a016-105">Blazor WebAssembly les applications sont sécurisées de la même façon que les applications à page unique (SPAs).</span><span class="sxs-lookup"><span data-stu-id="6a016-105">Blazor WebAssembly apps are secured in the same manner as Single Page Applications (SPAs).</span></span> <span data-ttu-id="6a016-106">Il existe plusieurs approches pour l’authentification des utilisateurs sur la base de cas, mais l’approche la plus courante et la plus complète consiste à utiliser une implémentation basée sur le [protocole OAuth 2,0](https://oauth.net/), tel que [OpenID Connect (OIDC)](https://openid.net/connect/).</span><span class="sxs-lookup"><span data-stu-id="6a016-106">There are several approaches for authenticating users to SPAs, but the most common and comprehensive approach is to use an implementation based on the [OAuth 2.0 protocol](https://oauth.net/), such as [OpenID Connect (OIDC)](https://openid.net/connect/).</span></span>

## <a name="authentication-library"></a><span data-ttu-id="6a016-107">Bibliothèque d’authentification</span><span class="sxs-lookup"><span data-stu-id="6a016-107">Authentication library</span></span>

<span data-ttu-id="6a016-108">Blazor WebAssembly prend en charge l’authentification et l’autorisation d’applications à l’aide de OIDC via la [`Microsoft.AspNetCore.Components.WebAssembly.Authentication`](https://www.nuget.org/packages/Microsoft.AspNetCore.Components.WebAssembly.Authentication) bibliothèque.</span><span class="sxs-lookup"><span data-stu-id="6a016-108">Blazor WebAssembly supports authenticating and authorizing apps using OIDC via the [`Microsoft.AspNetCore.Components.WebAssembly.Authentication`](https://www.nuget.org/packages/Microsoft.AspNetCore.Components.WebAssembly.Authentication) library.</span></span> <span data-ttu-id="6a016-109">La bibliothèque fournit un ensemble de primitives pour l’authentification en toute transparence par rapport aux principaux de ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="6a016-109">The library provides a set of primitives for seamlessly authenticating against ASP.NET Core backends.</span></span> <span data-ttu-id="6a016-110">La bibliothèque s’intègre ASP.NET Core Identity à la prise en charge des autorisations d’API basée sur le [ Identity serveur](https://identityserver.io/).</span><span class="sxs-lookup"><span data-stu-id="6a016-110">The library integrates ASP.NET Core Identity with API authorization support built on top of [Identity Server](https://identityserver.io/).</span></span> <span data-ttu-id="6a016-111">La bibliothèque peut s’authentifier auprès d’un Identity fournisseur tiers (IP) qui prend en charge OIDC, qui sont appelés fournisseurs OpenID (op).</span><span class="sxs-lookup"><span data-stu-id="6a016-111">The library can authenticate against any third-party Identity Provider (IP) that supports OIDC, which are called OpenID Providers (OP).</span></span>

<span data-ttu-id="6a016-112">La prise en charge de l’authentification dans Blazor WebAssembly est basée sur la `oidc-client.js` bibliothèque, qui est utilisée pour gérer les détails du protocole d’authentification sous-jacent.</span><span class="sxs-lookup"><span data-stu-id="6a016-112">The authentication support in Blazor WebAssembly is built on top of the `oidc-client.js` library, which is used to handle the underlying authentication protocol details.</span></span>

<span data-ttu-id="6a016-113">D’autres options d’authentification de la fonction de déSameSitement sont disponibles, telles que l’utilisation de cookie .</span><span class="sxs-lookup"><span data-stu-id="6a016-113">Other options for authenticating SPAs exist, such as the use of SameSite cookies.</span></span> <span data-ttu-id="6a016-114">Toutefois, la conception d’ingénierie de Blazor WebAssembly est réglée sur OAuth et OIDC comme meilleure option pour l’authentification dans les Blazor WebAssembly applications.</span><span class="sxs-lookup"><span data-stu-id="6a016-114">However, the engineering design of Blazor WebAssembly is settled on OAuth and OIDC as the best option for authentication in Blazor WebAssembly apps.</span></span> <span data-ttu-id="6a016-115">[L’authentification basée sur les jetons](xref:security/anti-request-forgery#token-based-authentication) basée sur des [jetons Web JSON (jetons JWT)](https://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) a été choisie pour des raisons fonctionnelles et de sécurité : [ cookie ](xref:security/anti-request-forgery#cookie-based-authentication)</span><span class="sxs-lookup"><span data-stu-id="6a016-115">[Token-based authentication](xref:security/anti-request-forgery#token-based-authentication) based on [JSON Web Tokens (JWTs)](https://self-issued.info/docs/draft-ietf-oauth-json-web-token.html) was chosen over [cookie-based authentication](xref:security/anti-request-forgery#cookie-based-authentication) for functional and security reasons:</span></span>

* <span data-ttu-id="6a016-116">L’utilisation d’un protocole basé sur les jetons offre une surface d’attaque plus réduite, car les jetons ne sont pas envoyés dans toutes les demandes.</span><span class="sxs-lookup"><span data-stu-id="6a016-116">Using a token-based protocol offers a smaller attack surface area, as the tokens aren't sent in all requests.</span></span>
* <span data-ttu-id="6a016-117">Les points de terminaison de serveur ne nécessitent pas de protection contre la [falsification de requête intersites (CSRF)](xref:security/anti-request-forgery) , car les jetons sont envoyés explicitement.</span><span class="sxs-lookup"><span data-stu-id="6a016-117">Server endpoints don't require protection against [Cross-Site Request Forgery (CSRF)](xref:security/anti-request-forgery) because the tokens are sent explicitly.</span></span> <span data-ttu-id="6a016-118">Cela vous permet d’héberger des applications en même temps que des Blazor WebAssembly applications MVC ou Razor pages.</span><span class="sxs-lookup"><span data-stu-id="6a016-118">This allows you to host Blazor WebAssembly apps alongside MVC or Razor pages apps.</span></span>
* <span data-ttu-id="6a016-119">Les jetons ont des autorisations plus étroites que cookie s.</span><span class="sxs-lookup"><span data-stu-id="6a016-119">Tokens have narrower permissions than cookies.</span></span> <span data-ttu-id="6a016-120">Par exemple, les jetons ne peuvent pas être utilisés pour gérer le compte d’utilisateur ou modifier le mot de passe d’un utilisateur, sauf si une telle fonctionnalité est implémentée de manière explicite.</span><span class="sxs-lookup"><span data-stu-id="6a016-120">For example, tokens can't be used to manage the user account or change a user's password unless such functionality is explicitly implemented.</span></span>
* <span data-ttu-id="6a016-121">Les jetons ont une durée de vie brève, par défaut d’une heure, qui limite la fenêtre d’attaque.</span><span class="sxs-lookup"><span data-stu-id="6a016-121">Tokens have a short lifetime, one hour by default, which limits the attack window.</span></span> <span data-ttu-id="6a016-122">Les jetons peuvent également être révoqués à tout moment.</span><span class="sxs-lookup"><span data-stu-id="6a016-122">Tokens can also be revoked at any time.</span></span>
* <span data-ttu-id="6a016-123">Les jetons JWT autonomes offrent des garanties au client et au serveur sur le processus d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6a016-123">Self-contained JWTs offer guarantees to the client and server about the authentication process.</span></span> <span data-ttu-id="6a016-124">Par exemple, un client a la possibilité de détecter et de valider que les jetons qu’il reçoit sont légitimes et ont été émis dans le cadre d’un processus d’authentification donné.</span><span class="sxs-lookup"><span data-stu-id="6a016-124">For example, a client has the means to detect and validate that the tokens it receives are legitimate and were emitted as part of a given authentication process.</span></span> <span data-ttu-id="6a016-125">Si un tiers tente de basculer un jeton au milieu du processus d’authentification, le client peut détecter le jeton commuté et éviter de l’utiliser.</span><span class="sxs-lookup"><span data-stu-id="6a016-125">If a third party attempts to switch a token in the middle of the authentication process, the client can detect the switched token and avoid using it.</span></span>
* <span data-ttu-id="6a016-126">Les jetons avec OAuth et OIDC ne reposent pas sur l’agent utilisateur qui se comporte correctement pour garantir la sécurité de l’application.</span><span class="sxs-lookup"><span data-stu-id="6a016-126">Tokens with OAuth and OIDC don't rely on the user agent behaving correctly to ensure that the app is secure.</span></span>
* <span data-ttu-id="6a016-127">Les protocoles basés sur les jetons, tels que OAuth et OIDC, permettent d’authentifier et d’autoriser des applications hébergées et autonomes avec le même ensemble de caractéristiques de sécurité.</span><span class="sxs-lookup"><span data-stu-id="6a016-127">Token-based protocols, such as OAuth and OIDC, allow for authenticating and authorizing hosted and standalone apps with the same set of security characteristics.</span></span>

## <a name="authentication-process-with-oidc"></a><span data-ttu-id="6a016-128">Processus d’authentification avec OIDC</span><span class="sxs-lookup"><span data-stu-id="6a016-128">Authentication process with OIDC</span></span>

<span data-ttu-id="6a016-129">La [`Microsoft.AspNetCore.Components.WebAssembly.Authentication`](https://www.nuget.org/packages/Microsoft.AspNetCore.Components.WebAssembly.Authentication) bibliothèque propose plusieurs primitives pour implémenter l’authentification et l’autorisation à l’aide de OIDC.</span><span class="sxs-lookup"><span data-stu-id="6a016-129">The [`Microsoft.AspNetCore.Components.WebAssembly.Authentication`](https://www.nuget.org/packages/Microsoft.AspNetCore.Components.WebAssembly.Authentication) library offers several primitives to implement authentication and authorization using OIDC.</span></span> <span data-ttu-id="6a016-130">En général, l’authentification fonctionne comme suit :</span><span class="sxs-lookup"><span data-stu-id="6a016-130">In broad terms, authentication works as follows:</span></span>

* <span data-ttu-id="6a016-131">Lorsqu’un utilisateur anonyme sélectionne le bouton de connexion ou demande une page pour laquelle l' [ `[Authorize]` attribut](xref:Microsoft.AspNetCore.Authorization.AuthorizeAttribute) est appliqué, l’utilisateur est redirigé vers la page de connexion de l’application ( `/authentication/login` ).</span><span class="sxs-lookup"><span data-stu-id="6a016-131">When an anonymous user selects the login button or requests a page with the [`[Authorize]` attribute](xref:Microsoft.AspNetCore.Authorization.AuthorizeAttribute) applied, the user is redirected to the app's login page (`/authentication/login`).</span></span>
* <span data-ttu-id="6a016-132">Dans la page de connexion, la bibliothèque d’authentification prépare une redirection vers le point de terminaison d’autorisation.</span><span class="sxs-lookup"><span data-stu-id="6a016-132">In the login page, the authentication library prepares for a redirect to the authorization endpoint.</span></span> <span data-ttu-id="6a016-133">Le point de terminaison d’autorisation est en dehors de l' Blazor WebAssembly application et peut être hébergé à une origine distincte.</span><span class="sxs-lookup"><span data-stu-id="6a016-133">The authorization endpoint is outside of the Blazor WebAssembly app and can be hosted at a separate origin.</span></span> <span data-ttu-id="6a016-134">Le point de terminaison est chargé de déterminer si l’utilisateur est authentifié et d’émettre un ou plusieurs jetons en réponse.</span><span class="sxs-lookup"><span data-stu-id="6a016-134">The endpoint is responsible for determining whether the user is authenticated and for issuing one or more tokens in response.</span></span> <span data-ttu-id="6a016-135">La bibliothèque d’authentification fournit un rappel de connexion pour recevoir la réponse d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6a016-135">The authentication library provides a login callback to receive the authentication response.</span></span>
  * <span data-ttu-id="6a016-136">Si l’utilisateur n’est pas authentifié, l’utilisateur est redirigé vers le système d’authentification sous-jacent, ce qui est généralement le cas ASP.NET Core Identity .</span><span class="sxs-lookup"><span data-stu-id="6a016-136">If the user isn't authenticated, the user is redirected to the underlying authentication system, which is usually ASP.NET Core Identity.</span></span>
  * <span data-ttu-id="6a016-137">Si l’utilisateur a déjà été authentifié, le point de terminaison d’autorisation génère les jetons appropriés et redirige le navigateur vers le point de terminaison de rappel de connexion ( `/authentication/login-callback` ).</span><span class="sxs-lookup"><span data-stu-id="6a016-137">If the user was already authenticated, the authorization endpoint generates the appropriate tokens and redirects the browser back to the login callback endpoint (`/authentication/login-callback`).</span></span>
* <span data-ttu-id="6a016-138">Lorsque l' Blazor WebAssembly application charge le point de terminaison de rappel de connexion ( `/authentication/login-callback` ), la réponse d’authentification est traitée.</span><span class="sxs-lookup"><span data-stu-id="6a016-138">When the Blazor WebAssembly app loads the login callback endpoint (`/authentication/login-callback`), the authentication response is processed.</span></span>
  * <span data-ttu-id="6a016-139">Si le processus d’authentification se termine correctement, l’utilisateur est authentifié et éventuellement renvoyé à l’URL protégée d’origine que l’utilisateur a demandée.</span><span class="sxs-lookup"><span data-stu-id="6a016-139">If the authentication process completes successfully, the user is authenticated and optionally sent back to the original protected URL that the user requested.</span></span>
  * <span data-ttu-id="6a016-140">Si le processus d’authentification échoue pour une raison quelconque, l’utilisateur est envoyé à la page Échec de la connexion ( `/authentication/login-failed` ) et une erreur s’affiche.</span><span class="sxs-lookup"><span data-stu-id="6a016-140">If the authentication process fails for any reason, the user is sent to the login failed page (`/authentication/login-failed`), and an error is displayed.</span></span>

## <a name="authentication-component"></a><span data-ttu-id="6a016-141">Composant `Authentication`</span><span class="sxs-lookup"><span data-stu-id="6a016-141">`Authentication` component</span></span>

<span data-ttu-id="6a016-142">Le `Authentication` composant ( `Pages/Authentication.razor` ) gère les opérations d’authentification à distance et permet à l’application d’effectuer les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="6a016-142">The `Authentication` component (`Pages/Authentication.razor`) handles remote authentication operations and permits the app to:</span></span>

* <span data-ttu-id="6a016-143">Configurez les itinéraires d’application pour les États d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6a016-143">Configure app routes for authentication states.</span></span>
* <span data-ttu-id="6a016-144">Définir le contenu de l’interface utilisateur pour les États d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6a016-144">Set UI content for authentication states.</span></span>
* <span data-ttu-id="6a016-145">Gérez l’état d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6a016-145">Manage authentication state.</span></span>

<span data-ttu-id="6a016-146">Les actions d’authentification, telles que l’inscription ou la connexion d’un utilisateur, sont passées au Blazor composant de l’infrastructure <xref:Microsoft.AspNetCore.Components.WebAssembly.Authentication.RemoteAuthenticatorViewCore%601> , qui rend persistant et contrôle l’état entre les opérations d’authentification.</span><span class="sxs-lookup"><span data-stu-id="6a016-146">Authentication actions, such as registering or signing in a user, are passed to the Blazor framework's <xref:Microsoft.AspNetCore.Components.WebAssembly.Authentication.RemoteAuthenticatorViewCore%601> component, which persists and controls state across authentication operations.</span></span>

<span data-ttu-id="6a016-147">Pour plus d’informations et d’exemples, consultez <xref:blazor/security/webassembly/additional-scenarios>.</span><span class="sxs-lookup"><span data-stu-id="6a016-147">For more information and examples, see <xref:blazor/security/webassembly/additional-scenarios>.</span></span>

## <a name="authorization"></a><span data-ttu-id="6a016-148">Autorisation</span><span class="sxs-lookup"><span data-stu-id="6a016-148">Authorization</span></span>

<span data-ttu-id="6a016-149">Dans Blazor WebAssembly les applications, les vérifications d’autorisation peuvent être ignorées, car tout le code côté client peut être modifié par les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="6a016-149">In Blazor WebAssembly apps, authorization checks can be bypassed because all client-side code can be modified by users.</span></span> <span data-ttu-id="6a016-150">Cela vaut également pour toutes les technologies d’application côté client, y compris les infrastructures d’application JavaScript SPA ou les applications natives pour n’importe quel système d’exploitation.</span><span class="sxs-lookup"><span data-stu-id="6a016-150">The same is true for all client-side app technologies, including JavaScript SPA frameworks or native apps for any operating system.</span></span>

<span data-ttu-id="6a016-151">**Effectuez toujours les vérifications d’autorisation sur le serveur au sein des points de terminaison de l’API auxquels votre application côté client accède.**</span><span class="sxs-lookup"><span data-stu-id="6a016-151">**Always perform authorization checks on the server within any API endpoints accessed by your client-side app.**</span></span>

## <a name="require-authorization-for-the-entire-app"></a><span data-ttu-id="6a016-152">Exiger une autorisation pour l’ensemble de l’application</span><span class="sxs-lookup"><span data-stu-id="6a016-152">Require authorization for the entire app</span></span>

<span data-ttu-id="6a016-153">Appliquez l' [ `[Authorize]` attribut](xref:blazor/security/index#authorize-attribute) ([documentation](xref:System.Web.Mvc.AuthorizeAttribute)de l’API) à chaque Razor composant de l’application à l’aide de l’une des approches suivantes :</span><span class="sxs-lookup"><span data-stu-id="6a016-153">Apply the [`[Authorize]` attribute](xref:blazor/security/index#authorize-attribute) ([API documentation](xref:System.Web.Mvc.AuthorizeAttribute)) to each Razor component of the app using one of the following approaches:</span></span>

* <span data-ttu-id="6a016-154">Utilisez la [`@attribute`](xref:mvc/views/razor#attribute) directive dans le `_Imports.razor` fichier :</span><span class="sxs-lookup"><span data-stu-id="6a016-154">Use the [`@attribute`](xref:mvc/views/razor#attribute) directive in the `_Imports.razor` file:</span></span>

  ```razor
  @using Microsoft.AspNetCore.Authorization
  @attribute [Authorize]
  ```

* <span data-ttu-id="6a016-155">Ajoutez l’attribut à chaque Razor composant dans le `Pages` dossier.</span><span class="sxs-lookup"><span data-stu-id="6a016-155">Add the attribute to each Razor component in the `Pages` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="6a016-156">La définition d’une <xref:Microsoft.AspNetCore.Authorization.AuthorizationOptions.FallbackPolicy?displayProperty=nameWithType> sur une stratégie avec <xref:Microsoft.AspNetCore.Authorization.AuthorizationPolicyBuilder.RequireAuthenticatedUser%2A> n’est **pas** prise en charge.</span><span class="sxs-lookup"><span data-stu-id="6a016-156">Setting an <xref:Microsoft.AspNetCore.Authorization.AuthorizationOptions.FallbackPolicy?displayProperty=nameWithType> to a policy with <xref:Microsoft.AspNetCore.Authorization.AuthorizationPolicyBuilder.RequireAuthenticatedUser%2A> is **not** supported.</span></span>

## <a name="refresh-tokens"></a><span data-ttu-id="6a016-157">Jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="6a016-157">Refresh tokens</span></span>

<span data-ttu-id="6a016-158">Les jetons d’actualisation ne peuvent pas être sécurisés côté client dans les Blazor WebAssembly applications.</span><span class="sxs-lookup"><span data-stu-id="6a016-158">Refresh tokens can't be secured client-side in Blazor WebAssembly apps.</span></span> <span data-ttu-id="6a016-159">Par conséquent, les jetons d’actualisation ne doivent pas être envoyés à l’application pour une utilisation directe.</span><span class="sxs-lookup"><span data-stu-id="6a016-159">Therefore, refresh tokens shouldn't be sent to the app for direct use.</span></span>

<span data-ttu-id="6a016-160">Les jetons d’actualisation peuvent être conservés et utilisés par l’application côté serveur dans une solution hébergée Blazor WebAssembly pour accéder aux API tierces.</span><span class="sxs-lookup"><span data-stu-id="6a016-160">Refresh tokens can be maintained and used by the server-side app in a Hosted Blazor WebAssembly solution to access third-party APIs.</span></span> <span data-ttu-id="6a016-161">Pour plus d’informations, consultez <xref:blazor/security/webassembly/additional-scenarios#authenticate-users-with-a-third-party-provider-and-call-protected-apis-on-the-host-server-and-the-third-party>.</span><span class="sxs-lookup"><span data-stu-id="6a016-161">For more information, see <xref:blazor/security/webassembly/additional-scenarios#authenticate-users-with-a-third-party-provider-and-call-protected-apis-on-the-host-server-and-the-third-party>.</span></span>

## <a name="establish-claims-for-users"></a><span data-ttu-id="6a016-162">Établir des revendications pour les utilisateurs</span><span class="sxs-lookup"><span data-stu-id="6a016-162">Establish claims for users</span></span>

<span data-ttu-id="6a016-163">Les applications requièrent souvent des revendications pour les utilisateurs en fonction d’un appel d’API Web à un serveur.</span><span class="sxs-lookup"><span data-stu-id="6a016-163">Apps often require claims for users based on a web API call to a server.</span></span> <span data-ttu-id="6a016-164">Par exemple, les revendications sont fréquemment utilisées pour [établir une autorisation](xref:blazor/security/index#authorization) dans une application.</span><span class="sxs-lookup"><span data-stu-id="6a016-164">For example, claims are frequently used to [establish authorization](xref:blazor/security/index#authorization) in an app.</span></span> <span data-ttu-id="6a016-165">Dans ces scénarios, l’application demande un jeton d’accès pour accéder au service et utilise le jeton pour obtenir les données utilisateur pour les revendications.</span><span class="sxs-lookup"><span data-stu-id="6a016-165">In these scenarios, the app requests an access token to access the service and uses the token to obtain the user data for the claims.</span></span> <span data-ttu-id="6a016-166">Pour obtenir des exemples, consultez les ressources suivantes :</span><span class="sxs-lookup"><span data-stu-id="6a016-166">For examples, see the following resources:</span></span>

* [<span data-ttu-id="6a016-167">Scénarios supplémentaires : personnaliser l’utilisateur</span><span class="sxs-lookup"><span data-stu-id="6a016-167">Additional scenarios: Customize the user</span></span>](xref:blazor/security/webassembly/additional-scenarios#customize-the-user)
* <xref:blazor/security/webassembly/aad-groups-roles>

## <a name="azure-app-service-on-linux-with-identity-server"></a><span data-ttu-id="6a016-168">Azure App Service sur Linux avec Identity serveur</span><span class="sxs-lookup"><span data-stu-id="6a016-168">Azure App Service on Linux with Identity Server</span></span>

<span data-ttu-id="6a016-169">Spécifiez l’émetteur de manière explicite lors du déploiement sur Azure App Service sur Linux avec le Identity serveur.</span><span class="sxs-lookup"><span data-stu-id="6a016-169">Specify the issuer explicitly when deploying to Azure App Service on Linux with Identity Server.</span></span> <span data-ttu-id="6a016-170">Pour plus d’informations, consultez <xref:security/authentication/identity/spa#azure-app-service-on-linux>.</span><span class="sxs-lookup"><span data-stu-id="6a016-170">For more information, see <xref:security/authentication/identity/spa#azure-app-service-on-linux>.</span></span>

## <a name="windows-authentication"></a><span data-ttu-id="6a016-171">Authentification Windows</span><span class="sxs-lookup"><span data-stu-id="6a016-171">Windows Authentication</span></span>

<span data-ttu-id="6a016-172">Nous vous déconseillons d’utiliser l’authentification Windows avec Blazor webassembly ou avec n’importe quel autre Framework Spa.</span><span class="sxs-lookup"><span data-stu-id="6a016-172">We don't recommend using Windows Authentication with Blazor Webassembly or with any other SPA framework.</span></span> <span data-ttu-id="6a016-173">Nous vous recommandons d’utiliser des protocoles basés sur des jetons au lieu de l’authentification Windows, tels que OIDC avec services de fédération Active Directory (AD FS) (ADFS).</span><span class="sxs-lookup"><span data-stu-id="6a016-173">We recommend using token-based protocols instead of Windows Authentication, such as OIDC with Active Directory Federation Services (ADFS).</span></span>

<span data-ttu-id="6a016-174">Si l’authentification Windows est utilisée avec Blazor webassembly ou avec tout autre Framework Spa, des mesures supplémentaires sont requises pour protéger l’application des jetons de falsification de requête intersites (CSRF).</span><span class="sxs-lookup"><span data-stu-id="6a016-174">If Windows Authentication is used with Blazor Webassembly or with any other SPA framework, additional measures are required to protect the app from cross-site request forgery (CSRF) tokens.</span></span> <span data-ttu-id="6a016-175">Les mêmes préoccupations que celles qui s’appliquent à s' cookie appliquent à l’authentification Windows avec l’ajout que l’authentification Windows n’offre aucun mécanisme pour empêcher le partage du contexte d’authentification entre les origines.</span><span class="sxs-lookup"><span data-stu-id="6a016-175">The same concerns that apply to cookies apply to Windows Authentication with the addition that Windows Authentication doesn't offer any mechanism to prevent sharing of the authentication context across origins.</span></span> <span data-ttu-id="6a016-176">Les applications qui utilisent l’authentification Windows sans protection supplémentaire à partir de CSRF doivent être au moins limitées à l’intranet d’une organisation et ne pas être utilisées sur Internet.</span><span class="sxs-lookup"><span data-stu-id="6a016-176">Apps using Windows Authentication without additional protection from CSRF should at least be restricted to an organization's intranet and not be used on the Internet.</span></span>

<span data-ttu-id="6a016-177">Pour plus d’informations, consultez <xref:security/anti-request-forgery> .</span><span class="sxs-lookup"><span data-stu-id="6a016-177">For for information, see <xref:security/anti-request-forgery>.</span></span>

## <a name="implementation-guidance"></a><span data-ttu-id="6a016-178">Conseils d’implémentation</span><span class="sxs-lookup"><span data-stu-id="6a016-178">Implementation guidance</span></span>

<span data-ttu-id="6a016-179">Les Articles de cette *vue d’ensemble* fournissent des informations sur l’authentification des utilisateurs dans les Blazor WebAssembly applications contre des fournisseurs spécifiques.</span><span class="sxs-lookup"><span data-stu-id="6a016-179">Articles under this *Overview* provide information on authenticating users in Blazor WebAssembly apps against specific providers.</span></span>

<span data-ttu-id="6a016-180">Applications autonomes Blazor WebAssembly :</span><span class="sxs-lookup"><span data-stu-id="6a016-180">Standalone Blazor WebAssembly apps:</span></span>

* [<span data-ttu-id="6a016-181">Aide générale pour les fournisseurs OIDC et la bibliothèque d’authentification webassembly</span><span class="sxs-lookup"><span data-stu-id="6a016-181">General guidance for OIDC providers and the WebAssembly Authentication Library</span></span>](xref:blazor/security/webassembly/standalone-with-authentication-library)
* [<span data-ttu-id="6a016-182">Comptes Microsoft</span><span class="sxs-lookup"><span data-stu-id="6a016-182">Microsoft Accounts</span></span>](xref:blazor/security/webassembly/standalone-with-microsoft-accounts)
* [<span data-ttu-id="6a016-183">Azure Active Directory (AAD)</span><span class="sxs-lookup"><span data-stu-id="6a016-183">Azure Active Directory (AAD)</span></span>](xref:blazor/security/webassembly/standalone-with-azure-active-directory)
* [<span data-ttu-id="6a016-184">Azure Active Directory (AAD) B2C</span><span class="sxs-lookup"><span data-stu-id="6a016-184">Azure Active Directory (AAD) B2C</span></span>](xref:blazor/security/webassembly/standalone-with-azure-active-directory-b2c)

<span data-ttu-id="6a016-185">Applications hébergées Blazor WebAssembly :</span><span class="sxs-lookup"><span data-stu-id="6a016-185">Hosted Blazor WebAssembly apps:</span></span>

* [<span data-ttu-id="6a016-186">Azure Active Directory (AAD)</span><span class="sxs-lookup"><span data-stu-id="6a016-186">Azure Active Directory (AAD)</span></span>](xref:blazor/security/webassembly/hosted-with-azure-active-directory)
* [<span data-ttu-id="6a016-187">Azure Active Directory (AAD) B2C</span><span class="sxs-lookup"><span data-stu-id="6a016-187">Azure Active Directory (AAD) B2C</span></span>](xref:blazor/security/webassembly/hosted-with-azure-active-directory-b2c)
* [<span data-ttu-id="6a016-188">Identity Serveurs</span><span class="sxs-lookup"><span data-stu-id="6a016-188">Identity Server</span></span>](xref:blazor/security/webassembly/hosted-with-identity-server)

::: moniker range=">= aspnetcore-5.0"

<span data-ttu-id="6a016-189">D’autres conseils de configuration figurent dans les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="6a016-189">Further configuration guidance is found in the following articles:</span></span>

* <xref:blazor/security/webassembly/additional-scenarios>
* <xref:blazor/security/webassembly/graph-api>

::: moniker-end

::: moniker range="< aspnetcore-5.0"

<span data-ttu-id="6a016-190">Pour plus d’informations sur la configuration, consultez <xref:blazor/security/webassembly/additional-scenarios> .</span><span class="sxs-lookup"><span data-stu-id="6a016-190">For further configuration guidance, see <xref:blazor/security/webassembly/additional-scenarios>.</span></span>

::: moniker-end

## <a name="additional-resources"></a><span data-ttu-id="6a016-191">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="6a016-191">Additional resources</span></span>

* <span data-ttu-id="6a016-192"><xref:host-and-deploy/proxy-load-balancer>: Fournit des conseils sur :</span><span class="sxs-lookup"><span data-stu-id="6a016-192"><xref:host-and-deploy/proxy-load-balancer>: Includes guidance on:</span></span>
  * <span data-ttu-id="6a016-193">Utilisation de l’intergiciel d’en-têtes transférés pour conserver les informations de schéma HTTPs entre les serveurs proxy et les réseaux internes.</span><span class="sxs-lookup"><span data-stu-id="6a016-193">Using Forwarded Headers Middleware to preserve HTTPS scheme information across proxy servers and internal networks.</span></span>
  * <span data-ttu-id="6a016-194">Scénarios et cas d’utilisation supplémentaires, y compris la configuration manuelle du schéma, les modifications du chemin des demandes pour le routage des demandes correct et le transfert du modèle de demande pour les proxys inversés Linux et non-IIS.</span><span class="sxs-lookup"><span data-stu-id="6a016-194">Additional scenarios and use cases, including manual scheme configuration, request path changes for correct request routing, and forwarding the request scheme for Linux and non-IIS reverse proxies.</span></span>
