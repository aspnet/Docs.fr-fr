---
title: RazorSDK ASP.net Core
author: Rick-Anderson
description: Découvrez comment Razor les pages de ASP.net Core rendent le codage des scénarios orientés page plus facile et plus productif que l’utilisation de MVC.
monikerRange: '>= aspnetcore-2.1'
ms.author: riande
ms.custom: mvc, seodec18
ms.date: 03/26/2020
no-loc:
- appsettings.json
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: razor-pages/sdk
ms.openlocfilehash: d3b01889b7634dce8ef1d6a4886a9a6ac39a6473
ms.sourcegitcommit: 3593c4efa707edeaaceffbfa544f99f41fc62535
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/04/2021
ms.locfileid: "93060870"
---
# <a name="aspnet-core-no-locrazor-sdk"></a><span data-ttu-id="0fba8-103">RazorSDK ASP.net Core</span><span class="sxs-lookup"><span data-stu-id="0fba8-103">ASP.NET Core Razor SDK</span></span>

<span data-ttu-id="0fba8-104">Par [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="0fba8-104">By [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

## <a name="overview"></a><span data-ttu-id="0fba8-105">Vue d’ensemble</span><span class="sxs-lookup"><span data-stu-id="0fba8-105">Overview</span></span>

<span data-ttu-id="0fba8-106">Le [!INCLUDE[](~/includes/2.1-SDK.md)] comprend le `Microsoft.NET.Sdk.Razor` Kit de développement logiciel (SDK Razor ) MSBuild.</span><span class="sxs-lookup"><span data-stu-id="0fba8-106">The [!INCLUDE[](~/includes/2.1-SDK.md)] includes the `Microsoft.NET.Sdk.Razor` MSBuild SDK (Razor SDK).</span></span> <span data-ttu-id="0fba8-107">Le Razor Kit de développement logiciel :</span><span class="sxs-lookup"><span data-stu-id="0fba8-107">The Razor SDK:</span></span>

::: moniker range=">= aspnetcore-3.0"

* <span data-ttu-id="0fba8-108">Est requis pour générer, empaqueter et publier des projets contenant [Razor](xref:mvc/views/razor) des fichiers pour des projets ASP.net Core basés sur MVC ou [Blazor](xref:blazor/index) .</span><span class="sxs-lookup"><span data-stu-id="0fba8-108">Is required to build, package, and publish projects containing [Razor](xref:mvc/views/razor) files for ASP.NET Core MVC-based or [Blazor](xref:blazor/index) projects.</span></span>
* <span data-ttu-id="0fba8-109">Comprend un ensemble de cibles, de propriétés et d’éléments prédéfinis qui permettent de personnaliser la compilation des Razor fichiers (*. cshtml* ou *. Razor*).</span><span class="sxs-lookup"><span data-stu-id="0fba8-109">Includes a set of predefined targets, properties, and items that allow customizing the compilation of Razor (*.cshtml* or *.razor*) files.</span></span>

<span data-ttu-id="0fba8-110">Le Razor Kit de développement logiciel (SDK) comprend `Content` des éléments dont `Include` les attributs sont définis sur les `**\*.cshtml` `**\*.razor` modèles et globbing.</span><span class="sxs-lookup"><span data-stu-id="0fba8-110">The Razor SDK includes `Content` items with `Include` attributes set to the `**\*.cshtml` and `**\*.razor` globbing patterns.</span></span> <span data-ttu-id="0fba8-111">Les fichiers correspondants sont publiés.</span><span class="sxs-lookup"><span data-stu-id="0fba8-111">Matching files are published.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-3.0"

* <span data-ttu-id="0fba8-112">Normalise l’expérience de la création, de l’empaquetage et de la publication de projets contenant [Razor](xref:mvc/views/razor) des fichiers pour ASP.net Core projets basés sur Mvc.</span><span class="sxs-lookup"><span data-stu-id="0fba8-112">Standardizes the experience around building, packaging, and publishing projects containing [Razor](xref:mvc/views/razor) files for ASP.NET Core MVC-based projects.</span></span>
* <span data-ttu-id="0fba8-113">Comprend un ensemble de cibles, de propriétés et d’éléments prédéfinis qui permettent de personnaliser la compilation des Razor fichiers.</span><span class="sxs-lookup"><span data-stu-id="0fba8-113">Includes a set of predefined targets, properties, and items that allow customizing the compilation of Razor files.</span></span>

<span data-ttu-id="0fba8-114">Le Razor Kit de développement logiciel (SDK) comprend un `Content` élément dont `Include` l’attribut a pour valeur le `**\*.cshtml` modèle globbing.</span><span class="sxs-lookup"><span data-stu-id="0fba8-114">The Razor SDK includes a `Content` item with an `Include` attribute set to the `**\*.cshtml` globbing pattern.</span></span> <span data-ttu-id="0fba8-115">Les fichiers correspondants sont publiés.</span><span class="sxs-lookup"><span data-stu-id="0fba8-115">Matching files are published.</span></span>

::: moniker-end

## <a name="prerequisites"></a><span data-ttu-id="0fba8-116">Prérequis</span><span class="sxs-lookup"><span data-stu-id="0fba8-116">Prerequisites</span></span>

[!INCLUDE[](~/includes/2.1-SDK.md)]

## <a name="use-the-no-locrazor-sdk"></a><span data-ttu-id="0fba8-117">Utiliser le Razor Kit de développement logiciel</span><span class="sxs-lookup"><span data-stu-id="0fba8-117">Use the Razor SDK</span></span>

<span data-ttu-id="0fba8-118">La plupart des applications Web ne sont pas requises pour référencer explicitement le Razor Kit de développement logiciel (SDK).</span><span class="sxs-lookup"><span data-stu-id="0fba8-118">Most web apps aren't required to explicitly reference the Razor SDK.</span></span>

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="0fba8-119">Pour utiliser le Razor Kit de développement logiciel (SDK) afin de générer des bibliothèques de classes contenant des Razor vues ou des Razor pages, nous vous recommandons de commencer avec le Razor modèle de projet Bibliothèque de classes (RCL).</span><span class="sxs-lookup"><span data-stu-id="0fba8-119">To use the Razor SDK to build class libraries containing Razor views or Razor Pages, we recommend starting with the Razor class library (RCL) project template.</span></span> <span data-ttu-id="0fba8-120">Un RCL utilisé pour générer Blazor des fichiers (*. Razor*) au minimum requiert une référence au package [Microsoft. AspNetCore. Components](https://www.nuget.org/packages/Microsoft.AspNetCore.Components) .</span><span class="sxs-lookup"><span data-stu-id="0fba8-120">An RCL that's used to build Blazor (*.razor*) files minimally requires a reference to the [Microsoft.AspNetCore.Components](https://www.nuget.org/packages/Microsoft.AspNetCore.Components) package.</span></span> <span data-ttu-id="0fba8-121">Un RCL qui est utilisé pour créer des Razor vues ou des pages (fichiers *. cshtml* ) nécessite `netcoreapp3.0` au minimum le ciblage ou une version ultérieure, et un `FrameworkReference` vers le sous- [package Microsoft. AspNetCore. app](xref:fundamentals/metapackage-app) dans son fichier projet.</span><span class="sxs-lookup"><span data-stu-id="0fba8-121">An RCL that's used to build Razor views or pages (*.cshtml* files) minimally requires targeting `netcoreapp3.0` or later and has a `FrameworkReference` to the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app) in its project file.</span></span>

::: moniker-end

::: moniker range="< aspnetcore-3.0"

<span data-ttu-id="0fba8-122">Pour utiliser le Razor Kit de développement logiciel (SDK) pour créer des bibliothèques de classes contenant des Razor vues ou des Razor pages :</span><span class="sxs-lookup"><span data-stu-id="0fba8-122">To use the Razor SDK to build class libraries containing Razor views or Razor Pages:</span></span>

* <span data-ttu-id="0fba8-123">Utilisez `Microsoft.NET.Sdk.Razor` à la place de `Microsoft.NET.Sdk` :</span><span class="sxs-lookup"><span data-stu-id="0fba8-123">Use `Microsoft.NET.Sdk.Razor` instead of `Microsoft.NET.Sdk`:</span></span>

  ```xml
  <Project SDK="Microsoft.NET.Sdk.Razor">
    <!-- omitted for brevity -->
  </Project>
  ```

* <span data-ttu-id="0fba8-124">En règle générale, une référence de package à `Microsoft.AspNetCore.Mvc` est requise pour recevoir des dépendances supplémentaires qui sont requises pour générer et compiler des Razor pages et des Razor vues.</span><span class="sxs-lookup"><span data-stu-id="0fba8-124">Typically, a package reference to `Microsoft.AspNetCore.Mvc` is required to receive additional dependencies that are required to build and compile Razor Pages and Razor views.</span></span> <span data-ttu-id="0fba8-125">Au minimum, votre projet doit ajouter des références de package à :</span><span class="sxs-lookup"><span data-stu-id="0fba8-125">At a minimum, your project should add package references to:</span></span>

  * `Microsoft.AspNetCore.Razor.Design`
  * `Microsoft.AspNetCore.Mvc.Razor.Extensions`
  * `Microsoft.AspNetCore.Mvc.Razor`

  <span data-ttu-id="0fba8-126">Le `Microsoft.AspNetCore.Razor.Design` package fournit les Razor tâches et les cibles de compilation pour le projet.</span><span class="sxs-lookup"><span data-stu-id="0fba8-126">The `Microsoft.AspNetCore.Razor.Design` package provides the Razor compilation tasks and targets for the project.</span></span>

  <span data-ttu-id="0fba8-127">Les packages précédents sont inclus dans `Microsoft.AspNetCore.Mvc`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-127">The preceding packages are included in `Microsoft.AspNetCore.Mvc`.</span></span> <span data-ttu-id="0fba8-128">Le balisage suivant montre un fichier projet qui utilise le Razor Kit de développement logiciel (SDK) pour générer Razor des fichiers pour une Razor application ASP.net Core pages :</span><span class="sxs-lookup"><span data-stu-id="0fba8-128">The following markup shows a project file that uses the Razor SDK to build Razor files for an ASP.NET Core Razor Pages app:</span></span>

  [!code-xml[](sdk/sample/RazorSDK.csproj)]

::: moniker-end

::: moniker range="= aspnetcore-2.1"

> [!WARNING]
> <span data-ttu-id="0fba8-129">Les `Microsoft.AspNetCore.Razor.Design` `Microsoft.AspNetCore.Mvc.Razor.Extensions` packages et sont inclus dans le sous- [package Microsoft. AspNetCore. app](xref:fundamentals/metapackage-app).</span><span class="sxs-lookup"><span data-stu-id="0fba8-129">The `Microsoft.AspNetCore.Razor.Design` and `Microsoft.AspNetCore.Mvc.Razor.Extensions` packages are included in the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app).</span></span> <span data-ttu-id="0fba8-130">Toutefois, la référence de package sans version `Microsoft.AspNetCore.App` fournit un package à l’application qui n’inclut pas la dernière version de `Microsoft.AspNetCore.Razor.Design` .</span><span class="sxs-lookup"><span data-stu-id="0fba8-130">However, the version-less `Microsoft.AspNetCore.App` package reference provides a metapackage to the app that doesn't include the latest version of `Microsoft.AspNetCore.Razor.Design`.</span></span> <span data-ttu-id="0fba8-131">Les projets doivent référencer une version cohérente de `Microsoft.AspNetCore.Razor.Design` (ou `Microsoft.AspNetCore.Mvc` ) afin que les correctifs les plus récents au moment de la génération pour Razor soient inclus.</span><span class="sxs-lookup"><span data-stu-id="0fba8-131">Projects must reference a consistent version of `Microsoft.AspNetCore.Razor.Design` (or `Microsoft.AspNetCore.Mvc`) so that the latest build-time fixes for Razor are included.</span></span> <span data-ttu-id="0fba8-132">Pour plus d’informations, consultez [ce problème GitHub](https://github.com/aspnet/Razor/issues/2553).</span><span class="sxs-lookup"><span data-stu-id="0fba8-132">For more information, see [this GitHub issue](https://github.com/aspnet/Razor/issues/2553).</span></span>

::: moniker-end

### <a name="properties"></a><span data-ttu-id="0fba8-133">Propriétés</span><span class="sxs-lookup"><span data-stu-id="0fba8-133">Properties</span></span>

<span data-ttu-id="0fba8-134">Les propriétés suivantes contrôlent le Razor comportement du kit de développement logiciel (SDK) dans le cadre d’une génération de projet :</span><span class="sxs-lookup"><span data-stu-id="0fba8-134">The following properties control the Razor's SDK behavior as part of a project build:</span></span>

* <span data-ttu-id="0fba8-135">`RazorCompileOnBuild`: Quand `true` , compile et émet l' Razor assembly dans le cadre de la génération du projet.</span><span class="sxs-lookup"><span data-stu-id="0fba8-135">`RazorCompileOnBuild`: When `true`, compiles and emits the Razor assembly as part of building the project.</span></span> <span data-ttu-id="0fba8-136">La valeur par défaut est `true`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-136">Defaults to `true`.</span></span>
* <span data-ttu-id="0fba8-137">`RazorCompileOnPublish`: Quand `true` , compile et émet l' Razor assembly dans le cadre de la publication du projet.</span><span class="sxs-lookup"><span data-stu-id="0fba8-137">`RazorCompileOnPublish`: When `true`, compiles and emits the Razor assembly as part of publishing the project.</span></span> <span data-ttu-id="0fba8-138">La valeur par défaut est `true`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-138">Defaults to `true`.</span></span>

<span data-ttu-id="0fba8-139">Les propriétés et les éléments du tableau suivant sont utilisés pour configurer les entrées et la sortie vers le Razor Kit de développement logiciel (SDK).</span><span class="sxs-lookup"><span data-stu-id="0fba8-139">The properties and items in the following table are used to configure inputs and output to the Razor SDK.</span></span>

::: moniker range=">= aspnetcore-3.0"

> [!WARNING]
> <span data-ttu-id="0fba8-140">À compter de ASP.NET Core 3,0, les vues ou Razor les pages MVC ne sont pas servies par défaut si les `RazorCompileOnBuild` `RazorCompileOnPublish` Propriétés ou MSBuild dans le fichier projet sont désactivées.</span><span class="sxs-lookup"><span data-stu-id="0fba8-140">Starting with ASP.NET Core 3.0, MVC Views or Razor Pages aren't served by default if the `RazorCompileOnBuild` or `RazorCompileOnPublish` MSBuild properties in the project file are disabled.</span></span> <span data-ttu-id="0fba8-141">Les applications doivent ajouter une référence explicite à [Microsoft. AspNetCore. Mvc. Razor Package RuntimeCompilation](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation) si l’application s’appuie sur la compilation au moment de l’exécution pour traiter les fichiers *. cshtml* .</span><span class="sxs-lookup"><span data-stu-id="0fba8-141">Applications must add an explicit reference to the [Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation](https://www.nuget.org/packages/Microsoft.AspNetCore.Mvc.Razor.RuntimeCompilation) package if the app relies on runtime compilation to process *.cshtml* files.</span></span>

::: moniker-end

| <span data-ttu-id="0fba8-142">Éléments</span><span class="sxs-lookup"><span data-stu-id="0fba8-142">Items</span></span> | <span data-ttu-id="0fba8-143">Description</span><span class="sxs-lookup"><span data-stu-id="0fba8-143">Description</span></span> |
| ----- | ----------- |
| `RazorGenerate` | <span data-ttu-id="0fba8-144">Éléments Item (fichiers *. cshtml* ) qui sont des entrées de la génération de code.</span><span class="sxs-lookup"><span data-stu-id="0fba8-144">Item elements (*.cshtml* files) that are inputs to code generation.</span></span> |
| `RazorComponent` | <span data-ttu-id="0fba8-145">Éléments Item (fichiers *. Razor* ) qui sont des entrées de la Razor génération de code du composant.</span><span class="sxs-lookup"><span data-stu-id="0fba8-145">Item elements (*.razor* files) that are inputs to Razor component code generation.</span></span> |
| `RazorCompile` | <span data-ttu-id="0fba8-146">Éléments Item (fichiers *. cs* ) qui sont des entrées dans les Razor cibles de compilation.</span><span class="sxs-lookup"><span data-stu-id="0fba8-146">Item elements (*.cs* files) that are inputs to Razor compilation targets.</span></span> <span data-ttu-id="0fba8-147">Utilisez cette `ItemGroup` valeur pour spécifier des fichiers supplémentaires à compiler dans l' Razor assembly.</span><span class="sxs-lookup"><span data-stu-id="0fba8-147">Use this `ItemGroup` to specify additional files to be compiled into the Razor assembly.</span></span> |
| `RazorTargetAssemblyAttribute` | <span data-ttu-id="0fba8-148">Éléments Item utilisés pour coder la génération d’attributs pour l' Razor assembly.</span><span class="sxs-lookup"><span data-stu-id="0fba8-148">Item elements used to code generate attributes for the Razor assembly.</span></span> <span data-ttu-id="0fba8-149">Par exemple :</span><span class="sxs-lookup"><span data-stu-id="0fba8-149">For example:</span></span>  <br>`RazorAssemblyAttribute`<br>`Include="System.Reflection.AssemblyMetadataAttribute"`<br>`_Parameter1="BuildSource" _Parameter2="https://docs.microsoft.com/">` |
| `RazorEmbeddedResource` | <span data-ttu-id="0fba8-150">Éléments Item ajoutés en tant que ressources incorporées à l' Razor assembly généré.</span><span class="sxs-lookup"><span data-stu-id="0fba8-150">Item elements added as embedded resources to the generated Razor assembly.</span></span> |

::: moniker range=">= aspnetcore-3.0"

| <span data-ttu-id="0fba8-151">Propriété</span><span class="sxs-lookup"><span data-stu-id="0fba8-151">Property</span></span> | <span data-ttu-id="0fba8-152">Description</span><span class="sxs-lookup"><span data-stu-id="0fba8-152">Description</span></span> |
| -------- | ----------- |
| `RazorTargetName` | <span data-ttu-id="0fba8-153">Nom de fichier (sans extension) de l’assembly généré par Razor .</span><span class="sxs-lookup"><span data-stu-id="0fba8-153">File name (without extension) of the assembly produced by Razor.</span></span> |
| `RazorOutputPath` | <span data-ttu-id="0fba8-154">RazorRépertoire de sortie.</span><span class="sxs-lookup"><span data-stu-id="0fba8-154">The Razor output directory.</span></span> |
| `RazorCompileToolset` | <span data-ttu-id="0fba8-155">Utilisé pour déterminer l’ensemble d’outils utilisé pour générer l' Razor assembly.</span><span class="sxs-lookup"><span data-stu-id="0fba8-155">Used to determine the toolset used to build the Razor assembly.</span></span> <span data-ttu-id="0fba8-156">Les valeurs correctes sont `Implicit`, `RazorSDK` et `PrecompilationTool`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-156">Valid values are `Implicit`, `RazorSDK`, and `PrecompilationTool`.</span></span> |
| [<span data-ttu-id="0fba8-157">EnableDefaultContentItems</span><span class="sxs-lookup"><span data-stu-id="0fba8-157">EnableDefaultContentItems</span></span>](https://github.com/aspnet/websdk/blob/rel-2.0.0/src/ProjectSystem/Microsoft.NET.Sdk.Web.ProjectSystem.Targets/netstandard1.0/Microsoft.NET.Sdk.Web.ProjectSystem.targets#L21) | <span data-ttu-id="0fba8-158">La valeur par défaut est `true`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-158">Default is `true`.</span></span> <span data-ttu-id="0fba8-159">Lorsque `true` , comprend des fichiers *web.config*, *. JSON* et *. cshtml* en tant que contenu dans le projet.</span><span class="sxs-lookup"><span data-stu-id="0fba8-159">When `true`, includes *web.config*, *.json*, and *.cshtml* files as content in the project.</span></span> <span data-ttu-id="0fba8-160">Lorsqu’ils sont référencés via `Microsoft.NET.Sdk.Web` , les fichiers situés sous les fichiers *wwwroot* et config sont également inclus.</span><span class="sxs-lookup"><span data-stu-id="0fba8-160">When referenced via `Microsoft.NET.Sdk.Web`, files under *wwwroot* and config files are also included.</span></span> |
| `EnableDefaultRazorGenerateItems` | <span data-ttu-id="0fba8-161">Si la valeur est `true`, inclut les fichiers *.cshtml* des éléments `Content` dans les éléments `RazorGenerate`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-161">When `true`, includes *.cshtml* files from `Content` items in `RazorGenerate` items.</span></span> |
| `GenerateRazorTargetAssemblyInfo` | <span data-ttu-id="0fba8-162">Lorsque `true` , génère un fichier *. cs* contenant les attributs spécifiés par `RazorAssemblyAttribute` et comprend le fichier dans la sortie de compilation.</span><span class="sxs-lookup"><span data-stu-id="0fba8-162">When `true`, generates a *.cs* file containing attributes specified by `RazorAssemblyAttribute` and includes the file in the compile output.</span></span> |
| `EnableDefaultRazorTargetAssemblyInfoAttributes` | <span data-ttu-id="0fba8-163">Si la valeur est `true`, ajoute un ensemble par défaut d’attributs d’assembly à `RazorAssemblyAttribute`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-163">When `true`, adds a default set of assembly attributes to `RazorAssemblyAttribute`.</span></span> |
| `CopyRazorGenerateFilesToPublishDirectory` | <span data-ttu-id="0fba8-164">Lorsque la `true` valeur est, copie `RazorGenerate` les fichiers d’éléments (*. cshtml*) dans le répertoire de publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-164">When `true`, copies `RazorGenerate` items (*.cshtml*) files to the publish directory.</span></span> <span data-ttu-id="0fba8-165">En règle générale, Razor les fichiers ne sont pas requis pour une application publiée s’ils participent à la compilation au moment de la génération ou de la publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-165">Typically, Razor files aren't required for a published app if they participate in compilation at build-time or publish-time.</span></span> <span data-ttu-id="0fba8-166">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-166">Defaults to `false`.</span></span> |
| `PreserveCompilationReferences` | <span data-ttu-id="0fba8-167">Si la valeur est `true`, copie les éléments d’assembly de référence dans le répertoire de publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-167">When `true`, copy reference assembly items to the publish directory.</span></span> <span data-ttu-id="0fba8-168">En général, les assemblys de référence ne sont pas requis pour une application publiée si la Razor compilation se produit au moment de la génération ou de la publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-168">Typically, reference assemblies aren't required for a published app if Razor compilation occurs at build-time or publish-time.</span></span> <span data-ttu-id="0fba8-169">Affectez `true` la valeur si votre application publiée requiert la compilation du Runtime.</span><span class="sxs-lookup"><span data-stu-id="0fba8-169">Set to `true` if your published app requires runtime compilation.</span></span> <span data-ttu-id="0fba8-170">Par exemple, définissez la valeur sur `true` si l’application modifie les fichiers *. cshtml* au moment de l’exécution ou utilise des vues incorporées.</span><span class="sxs-lookup"><span data-stu-id="0fba8-170">For example, set the value to `true` if the app modifies *.cshtml* files at runtime or uses embedded views.</span></span> <span data-ttu-id="0fba8-171">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-171">Defaults to `false`.</span></span> |
| `IncludeRazorContentInPack` | <span data-ttu-id="0fba8-172">Lorsque `true` , tous les Razor éléments de contenu (fichiers *. cshtml* ) sont marqués pour être inclus dans le package NuGet généré.</span><span class="sxs-lookup"><span data-stu-id="0fba8-172">When `true`, all Razor content items (*.cshtml* files) are marked for inclusion in the generated NuGet package.</span></span> <span data-ttu-id="0fba8-173">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-173">Defaults to `false`.</span></span> |
| `EmbedRazorGenerateSources` | <span data-ttu-id="0fba8-174">Lorsque la `true` valeur est, ajoute Razor des éléments Generate (*. cshtml*) comme fichiers incorporés à l' Razor assembly généré.</span><span class="sxs-lookup"><span data-stu-id="0fba8-174">When `true`, adds RazorGenerate (*.cshtml*) items as embedded files to the generated Razor assembly.</span></span> <span data-ttu-id="0fba8-175">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-175">Defaults to `false`.</span></span> |
| `UseRazorBuildServer` | <span data-ttu-id="0fba8-176">Si la valeur est `true`, utilise un processus de serveur de build persistant pour décharger le travail de génération de code.</span><span class="sxs-lookup"><span data-stu-id="0fba8-176">When `true`, uses a persistent build server process to offload code generation work.</span></span> <span data-ttu-id="0fba8-177">Utilise par défaut la valeur de `UseSharedCompilation`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-177">Defaults to the value of `UseSharedCompilation`.</span></span> |
| `GenerateMvcApplicationPartsAssemblyAttributes` | <span data-ttu-id="0fba8-178">Lorsque `true` la valeur est, le kit de développement logiciel (SDK) génère des attributs supplémentaires utilisés par MVC au moment de l’exécution pour effectuer la découverte des parties</span><span class="sxs-lookup"><span data-stu-id="0fba8-178">When `true`, the SDK generates additional attributes used by MVC at runtime to perform application part discovery.</span></span> |
| `DefaultWebContentItemExcludes` | <span data-ttu-id="0fba8-179">Modèle globbing pour les éléments Item qui doivent être exclus du `Content` groupe d’éléments dans les projets ciblant le Web ou le Razor Kit de développement logiciel (SDK)</span><span class="sxs-lookup"><span data-stu-id="0fba8-179">A globbing pattern for item elements that are to be excluded from the `Content` item group in projects targeting the Web or Razor SDK</span></span> |
| `ExcludeConfigFilesFromBuildOutput` | <span data-ttu-id="0fba8-180">Lorsque `true` les fichiers *. config* et *. JSON* ne sont pas copiés dans le répertoire de sortie de la génération.</span><span class="sxs-lookup"><span data-stu-id="0fba8-180">When `true`, *.config* and *.json* files do not get copied to the build output directory.</span></span> |
| `AddRazorSupportForMvc` | <span data-ttu-id="0fba8-181">Lorsque `true` la valeur est, configure le Razor Kit de développement logiciel (SDK) pour ajouter la prise en charge de la configuration MVC requise lors de la génération d’applications contenant des vues ou des Razor pages Mvc.</span><span class="sxs-lookup"><span data-stu-id="0fba8-181">When `true`, configures the Razor SDK to add support for the MVC configuration that is required when building applications containing MVC views or Razor Pages.</span></span> <span data-ttu-id="0fba8-182">Cette propriété est implicitement définie pour les projets .NET Core 3,0 ou ultérieur ciblant le kit de développement logiciel (SDK) Web</span><span class="sxs-lookup"><span data-stu-id="0fba8-182">This property is implicitly set for .NET Core 3.0 or later projects targeting the Web SDK</span></span> |
| `RazorLangVersion` | <span data-ttu-id="0fba8-183">Version du Razor langage à cibler.</span><span class="sxs-lookup"><span data-stu-id="0fba8-183">The version of the Razor Language to target.</span></span> |

::: moniker-end

::: moniker range="< aspnetcore-3.0"

| <span data-ttu-id="0fba8-184">Propriété</span><span class="sxs-lookup"><span data-stu-id="0fba8-184">Property</span></span> | <span data-ttu-id="0fba8-185">Description</span><span class="sxs-lookup"><span data-stu-id="0fba8-185">Description</span></span> |
| -------- | ----------- |
| `RazorTargetName` | <span data-ttu-id="0fba8-186">Nom de fichier (sans extension) de l’assembly généré par Razor .</span><span class="sxs-lookup"><span data-stu-id="0fba8-186">File name (without extension) of the assembly produced by Razor.</span></span> |
| `RazorOutputPath` | <span data-ttu-id="0fba8-187">RazorRépertoire de sortie.</span><span class="sxs-lookup"><span data-stu-id="0fba8-187">The Razor output directory.</span></span> |
| `RazorCompileToolset` | <span data-ttu-id="0fba8-188">Utilisé pour déterminer l’ensemble d’outils utilisé pour générer l' Razor assembly.</span><span class="sxs-lookup"><span data-stu-id="0fba8-188">Used to determine the toolset used to build the Razor assembly.</span></span> <span data-ttu-id="0fba8-189">Les valeurs correctes sont `Implicit`, `RazorSDK` et `PrecompilationTool`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-189">Valid values are `Implicit`, `RazorSDK`, and `PrecompilationTool`.</span></span> |
| [<span data-ttu-id="0fba8-190">EnableDefaultContentItems</span><span class="sxs-lookup"><span data-stu-id="0fba8-190">EnableDefaultContentItems</span></span>](https://github.com/aspnet/websdk/blob/rel-2.0.0/src/ProjectSystem/Microsoft.NET.Sdk.Web.ProjectSystem.Targets/netstandard1.0/Microsoft.NET.Sdk.Web.ProjectSystem.targets#L21) | <span data-ttu-id="0fba8-191">La valeur par défaut est `true`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-191">Default is `true`.</span></span> <span data-ttu-id="0fba8-192">Lorsque `true` , comprend des fichiers *web.config*, *. JSON* et *. cshtml* en tant que contenu dans le projet.</span><span class="sxs-lookup"><span data-stu-id="0fba8-192">When `true`, includes *web.config*, *.json*, and *.cshtml* files as content in the project.</span></span> <span data-ttu-id="0fba8-193">Lorsqu’ils sont référencés via `Microsoft.NET.Sdk.Web` , les fichiers situés sous les fichiers *wwwroot* et config sont également inclus.</span><span class="sxs-lookup"><span data-stu-id="0fba8-193">When referenced via `Microsoft.NET.Sdk.Web`, files under *wwwroot* and config files are also included.</span></span> |
| `EnableDefaultRazorGenerateItems` | <span data-ttu-id="0fba8-194">Si la valeur est `true`, inclut les fichiers *.cshtml* des éléments `Content` dans les éléments `RazorGenerate`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-194">When `true`, includes *.cshtml* files from `Content` items in `RazorGenerate` items.</span></span> |
| `GenerateRazorTargetAssemblyInfo` | <span data-ttu-id="0fba8-195">Lorsque `true` , génère un fichier *. cs* contenant les attributs spécifiés par `RazorAssemblyAttribute` et comprend le fichier dans la sortie de compilation.</span><span class="sxs-lookup"><span data-stu-id="0fba8-195">When `true`, generates a *.cs* file containing attributes specified by `RazorAssemblyAttribute` and includes the file in the compile output.</span></span> |
| `EnableDefaultRazorTargetAssemblyInfoAttributes` | <span data-ttu-id="0fba8-196">Si la valeur est `true`, ajoute un ensemble par défaut d’attributs d’assembly à `RazorAssemblyAttribute`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-196">When `true`, adds a default set of assembly attributes to `RazorAssemblyAttribute`.</span></span> |
| `CopyRazorGenerateFilesToPublishDirectory` | <span data-ttu-id="0fba8-197">Lorsque la `true` valeur est, copie `RazorGenerate` les fichiers d’éléments (*. cshtml*) dans le répertoire de publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-197">When `true`, copies `RazorGenerate` items (*.cshtml*) files to the publish directory.</span></span> <span data-ttu-id="0fba8-198">En règle générale, Razor les fichiers ne sont pas requis pour une application publiée s’ils participent à la compilation au moment de la génération ou de la publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-198">Typically, Razor files aren't required for a published app if they participate in compilation at build-time or publish-time.</span></span> <span data-ttu-id="0fba8-199">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-199">Defaults to `false`.</span></span> |
| `CopyRefAssembliesToPublishDirectory` | <span data-ttu-id="0fba8-200">Si la valeur est `true`, copie les éléments d’assembly de référence dans le répertoire de publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-200">When `true`, copy reference assembly items to the publish directory.</span></span> <span data-ttu-id="0fba8-201">En général, les assemblys de référence ne sont pas requis pour une application publiée si la Razor compilation se produit au moment de la génération ou de la publication.</span><span class="sxs-lookup"><span data-stu-id="0fba8-201">Typically, reference assemblies aren't required for a published app if Razor compilation occurs at build-time or publish-time.</span></span> <span data-ttu-id="0fba8-202">Affectez `true` la valeur si votre application publiée requiert la compilation du Runtime.</span><span class="sxs-lookup"><span data-stu-id="0fba8-202">Set to `true` if your published app requires runtime compilation.</span></span> <span data-ttu-id="0fba8-203">Par exemple, définissez la valeur sur `true` si l’application modifie les fichiers *. cshtml* au moment de l’exécution ou utilise des vues incorporées.</span><span class="sxs-lookup"><span data-stu-id="0fba8-203">For example, set the value to `true` if the app modifies *.cshtml* files at runtime or uses embedded views.</span></span> <span data-ttu-id="0fba8-204">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-204">Defaults to `false`.</span></span> |
| `IncludeRazorContentInPack` | <span data-ttu-id="0fba8-205">Lorsque `true` , tous les Razor éléments de contenu (fichiers *. cshtml* ) sont marqués pour être inclus dans le package NuGet généré.</span><span class="sxs-lookup"><span data-stu-id="0fba8-205">When `true`, all Razor content items (*.cshtml* files) are marked for inclusion in the generated NuGet package.</span></span> <span data-ttu-id="0fba8-206">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-206">Defaults to `false`.</span></span> |
| `EmbedRazorGenerateSources` | <span data-ttu-id="0fba8-207">Lorsque la `true` valeur est, ajoute Razor des éléments Generate (*. cshtml*) comme fichiers incorporés à l' Razor assembly généré.</span><span class="sxs-lookup"><span data-stu-id="0fba8-207">When `true`, adds RazorGenerate (*.cshtml*) items as embedded files to the generated Razor assembly.</span></span> <span data-ttu-id="0fba8-208">La valeur par défaut est `false`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-208">Defaults to `false`.</span></span> |
| `UseRazorBuildServer` | <span data-ttu-id="0fba8-209">Si la valeur est `true`, utilise un processus de serveur de build persistant pour décharger le travail de génération de code.</span><span class="sxs-lookup"><span data-stu-id="0fba8-209">When `true`, uses a persistent build server process to offload code generation work.</span></span> <span data-ttu-id="0fba8-210">Utilise par défaut la valeur de `UseSharedCompilation`.</span><span class="sxs-lookup"><span data-stu-id="0fba8-210">Defaults to the value of `UseSharedCompilation`.</span></span> |
| `GenerateMvcApplicationPartsAssemblyAttributes` | <span data-ttu-id="0fba8-211">Lorsque `true` la valeur est, le kit de développement logiciel (SDK) génère des attributs supplémentaires utilisés par MVC au moment de l’exécution pour effectuer la découverte des parties</span><span class="sxs-lookup"><span data-stu-id="0fba8-211">When `true`, the SDK generates additional attributes used by MVC at runtime to perform application part discovery.</span></span> |
| `DefaultWebContentItemExcludes` | <span data-ttu-id="0fba8-212">Modèle globbing pour les éléments Item qui doivent être exclus du `Content` groupe d’éléments dans les projets ciblant le Web ou le Razor Kit de développement logiciel (SDK)</span><span class="sxs-lookup"><span data-stu-id="0fba8-212">A globbing pattern for item elements that are to be excluded from the `Content` item group in projects targeting the Web or Razor SDK</span></span> |
| `ExcludeConfigFilesFromBuildOutput` | <span data-ttu-id="0fba8-213">Lorsque `true` les fichiers *. config* et *. JSON* ne sont pas copiés dans le répertoire de sortie de la génération.</span><span class="sxs-lookup"><span data-stu-id="0fba8-213">When `true`, *.config* and *.json* files do not get copied to the build output directory.</span></span> |
| `AddRazorSupportForMvc` | <span data-ttu-id="0fba8-214">Lorsque `true` la valeur est, configure le Razor Kit de développement logiciel (SDK) pour ajouter la prise en charge de la configuration MVC requise lors de la génération d’applications contenant des vues ou des Razor pages Mvc.</span><span class="sxs-lookup"><span data-stu-id="0fba8-214">When `true`, configures the Razor SDK to add support for the MVC configuration that is required when building applications containing MVC views or Razor Pages.</span></span> <span data-ttu-id="0fba8-215">Cette propriété est implicitement définie pour les projets .NET Core 3,0 ou ultérieur ciblant le kit de développement logiciel (SDK) Web</span><span class="sxs-lookup"><span data-stu-id="0fba8-215">This property is implicitly set for .NET Core 3.0 or later projects targeting the Web SDK</span></span> |
| `RazorLangVersion` | <span data-ttu-id="0fba8-216">Version du Razor langage à cibler.</span><span class="sxs-lookup"><span data-stu-id="0fba8-216">The version of the Razor Language to target.</span></span> |

::: moniker-end

<span data-ttu-id="0fba8-217">Pour plus d’informations sur les propriétés, consultez [propriétés MSBuild](/visualstudio/msbuild/msbuild-properties).</span><span class="sxs-lookup"><span data-stu-id="0fba8-217">For more information on properties, see [MSBuild properties](/visualstudio/msbuild/msbuild-properties).</span></span>

### <a name="targets"></a><span data-ttu-id="0fba8-218">Targets</span><span class="sxs-lookup"><span data-stu-id="0fba8-218">Targets</span></span>

<span data-ttu-id="0fba8-219">Le Razor Kit de développement logiciel (SDK) définit deux cibles principales :</span><span class="sxs-lookup"><span data-stu-id="0fba8-219">The Razor SDK defines two primary targets:</span></span>

* <span data-ttu-id="0fba8-220">`RazorGenerate`: Le code génère des fichiers *. cs* à partir d' `RazorGenerate` éléments Item.</span><span class="sxs-lookup"><span data-stu-id="0fba8-220">`RazorGenerate`: Code generates *.cs* files from `RazorGenerate` item elements.</span></span> <span data-ttu-id="0fba8-221">Utilisez la `RazorGenerateDependsOn` propriété pour spécifier des cibles supplémentaires qui peuvent s’exécuter avant ou après cette cible.</span><span class="sxs-lookup"><span data-stu-id="0fba8-221">Use the `RazorGenerateDependsOn` property to specify additional targets that can run before or after this target.</span></span>
* <span data-ttu-id="0fba8-222">`RazorCompile`: Compile les fichiers *. cs* générés dans en un Razor assembly.</span><span class="sxs-lookup"><span data-stu-id="0fba8-222">`RazorCompile`: Compiles generated *.cs* files in to a Razor assembly.</span></span> <span data-ttu-id="0fba8-223">Utilisez `RazorCompileDependsOn` pour spécifier des cibles supplémentaires qui peuvent s’exécuter avant ou après cette cible.</span><span class="sxs-lookup"><span data-stu-id="0fba8-223">Use the `RazorCompileDependsOn` to specify additional targets that can run before or after this target.</span></span>
* <span data-ttu-id="0fba8-224">`RazorComponentGenerate`: Le code génère des fichiers *. cs* pour les `RazorComponent` éléments Item.</span><span class="sxs-lookup"><span data-stu-id="0fba8-224">`RazorComponentGenerate`: Code generates *.cs* files for `RazorComponent` item elements.</span></span> <span data-ttu-id="0fba8-225">Utilisez la `RazorComponentGenerateDependsOn` propriété pour spécifier des cibles supplémentaires qui peuvent s’exécuter avant ou après cette cible.</span><span class="sxs-lookup"><span data-stu-id="0fba8-225">Use the `RazorComponentGenerateDependsOn` property to specify additional targets that can run before or after this target.</span></span>

### <a name="runtime-compilation-of-no-locrazor-views"></a><span data-ttu-id="0fba8-226">Compilation du runtime des Razor vues</span><span class="sxs-lookup"><span data-stu-id="0fba8-226">Runtime compilation of Razor views</span></span>

* <span data-ttu-id="0fba8-227">Par défaut, le Razor Kit de développement logiciel (SDK) ne publie pas les assemblys de référence requis pour effectuer la compilation du Runtime.</span><span class="sxs-lookup"><span data-stu-id="0fba8-227">By default, the Razor SDK doesn't publish reference assemblies that are required to perform runtime compilation.</span></span> <span data-ttu-id="0fba8-228">Cela entraîne des échecs de compilation quand le modèle d’application s’appuie sur la compilation au moment du runtime&mdash;par exemple, l’application utilise des vues incorporées ou change les vues une fois l’application publiée.</span><span class="sxs-lookup"><span data-stu-id="0fba8-228">This results in compilation failures when the application model relies on runtime compilation&mdash;for example, the app uses embedded views or changes views after the app is published.</span></span> <span data-ttu-id="0fba8-229">Définissez `CopyRefAssembliesToPublishDirectory` sur `true` pour continuer à publier les assemblys de référence.</span><span class="sxs-lookup"><span data-stu-id="0fba8-229">Set `CopyRefAssembliesToPublishDirectory` to `true` to continue publishing reference assemblies.</span></span>

* <span data-ttu-id="0fba8-230">Pour une application Web, vérifiez que votre application cible le `Microsoft.NET.Sdk.Web` Kit de développement logiciel (SDK).</span><span class="sxs-lookup"><span data-stu-id="0fba8-230">For a web app, ensure your app is targeting the `Microsoft.NET.Sdk.Web` SDK.</span></span>

## <a name="no-locrazor-language-version"></a><span data-ttu-id="0fba8-231">Razor version du langage</span><span class="sxs-lookup"><span data-stu-id="0fba8-231">Razor language version</span></span>

<span data-ttu-id="0fba8-232">Lorsque vous ciblez le `Microsoft.NET.Sdk.Web` Kit de développement logiciel (SDK), la Razor version du langage est déduite de la version du Framework cible de l’application.</span><span class="sxs-lookup"><span data-stu-id="0fba8-232">When targeting the `Microsoft.NET.Sdk.Web` SDK, the Razor language version is inferred from the app's target framework version.</span></span> <span data-ttu-id="0fba8-233">Pour les projets ciblant le `Microsoft.NET.Sdk.Razor` Kit de développement logiciel (SDK) ou dans le cas rare où l’application requiert une version de langue différente de Razor la valeur déduite, une version peut être configurée en définissant la `<RazorLangVersion>` propriété dans le fichier projet de l’application :</span><span class="sxs-lookup"><span data-stu-id="0fba8-233">For projects targeting the `Microsoft.NET.Sdk.Razor` SDK or in the rare case that the app requires a different Razor language version than the inferred value, a version can be configured by setting the `<RazorLangVersion>` property in the app's project file:</span></span>

```xml
<PropertyGroup>
  <RazorLangVersion>{VERSION}</RazorLangVersion>
</PropertyGroup>
```

<span data-ttu-id="0fba8-234">Razorla version de langage de est étroitement intégrée à la version du runtime pour laquelle elle a été générée.</span><span class="sxs-lookup"><span data-stu-id="0fba8-234">Razor's language version is tightly integrated with the version of the runtime that it was built for.</span></span> <span data-ttu-id="0fba8-235">Le ciblage d’une version de langage qui n’est pas conçue pour le runtime n’est pas pris en charge et génère probablement des erreurs de Build.</span><span class="sxs-lookup"><span data-stu-id="0fba8-235">Targeting a language version that isn't designed for the runtime is unsupported and likely produces build errors.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="0fba8-236">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0fba8-236">Additional resources</span></span>

* [<span data-ttu-id="0fba8-237">Ajouts au format csproj pour .NET Core</span><span class="sxs-lookup"><span data-stu-id="0fba8-237">Additions to the csproj format for .NET Core</span></span>](/dotnet/core/tools/csproj)
* [<span data-ttu-id="0fba8-238">Éléments communs des projets MSBuild</span><span class="sxs-lookup"><span data-stu-id="0fba8-238">Common MSBuild project items</span></span>](/visualstudio/msbuild/common-msbuild-project-items)
